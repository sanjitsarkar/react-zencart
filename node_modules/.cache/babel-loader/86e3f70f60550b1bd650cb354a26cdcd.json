{"ast":null,"code":"var _jsxFileName = \"/home/xanjit/Desktop/neog/react-ecom/src/context/data/data-context.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductsDataContext = /*#__PURE__*/createContext();\n\nconst ProductsDataProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [products, setProducts] = useState({\n    loading: true,\n    data: []\n  });\n  const [featuredProducts, setFeaturedProducts] = useState({\n    loading: true,\n    data: []\n  });\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = async () => {\n    try {\n      setProducts(prev => ({ ...prev,\n        loading: true\n      }));\n      setFeaturedProducts(prev => ({ ...prev,\n        loading: true\n      }));\n      const response = await axios.get('/api/products');\n      const data = [...response.data.products];\n      setProducts(prev => ({ ...prev,\n        data: data,\n        loading: false\n      }));\n      const featured = [...data].filter((product, index) => index < 10 ? Math.random() >= 0.4 ? product : null : product);\n      setFeaturedProducts(prev => ({ ...prev,\n        data: featured,\n        loading: false\n      }));\n    } catch (err) {\n      setProducts(prev => ({ ...prev,\n        data: [{\n          name: 'There is something wrong with the server, Sorry for the inconvenience',\n          offerMessage: err.message\n        }],\n        loading: false\n      }));\n      setFeaturedProducts(prev => ({ ...prev,\n        data: [{\n          name: 'There is something wrong with the server, Sorry for the inconvenience',\n          offerMessage: err.message\n        }],\n        loading: false\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ProductsDataContext.Provider, {\n    value: {\n      products: products,\n      featuredProducts: featuredProducts\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductsDataProvider, \"t9EmjjGBsNZcE8MrSWY17bnm7h0=\");\n\n_c = ProductsDataProvider;\n\nconst useProductsData = () => {\n  _s2();\n\n  return useContext(ProductsDataContext);\n};\n\n_s2(useProductsData, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport { ProductsDataProvider, useProductsData };\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductsDataProvider\");","map":{"version":3,"sources":["/home/xanjit/Desktop/neog/react-ecom/src/context/data/data-context.jsx"],"names":["React","createContext","useContext","useState","useEffect","axios","ProductsDataContext","ProductsDataProvider","children","products","setProducts","loading","data","featuredProducts","setFeaturedProducts","getData","prev","response","get","featured","filter","product","index","Math","random","err","name","offerMessage","message","useProductsData"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,QAA3C,EAAqDC,SAArD,QAAsE,OAAtE;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,mBAAmB,gBAAGL,aAAa,EAAzC;;AAEA,MAAMM,oBAAoB,GAAG,QAAkB;AAAA;;AAAA,MAAjB;AAAEC,IAAAA;AAAF,GAAiB;AAC9C,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC;AAAEQ,IAAAA,OAAO,EAAE,IAAX;AAAiBC,IAAAA,IAAI,EAAE;AAAvB,GAAD,CAAxC;AACA,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CX,QAAQ,CAAC;AAAEQ,IAAAA,OAAO,EAAE,IAAX;AAAiBC,IAAAA,IAAI,EAAE;AAAvB,GAAD,CAAxD;AACAR,EAAAA,SAAS,CAAC,MAAM;AACfW,IAAAA,OAAO;AACP,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,OAAO,GAAG,YAAY;AAC3B,QAAI;AACHL,MAAAA,WAAW,CAAEM,IAAD,KAAW,EAAE,GAAGA,IAAL;AAAWL,QAAAA,OAAO,EAAE;AAApB,OAAX,CAAD,CAAX;AACAG,MAAAA,mBAAmB,CAAEE,IAAD,KAAW,EAAE,GAAGA,IAAL;AAAWL,QAAAA,OAAO,EAAE;AAApB,OAAX,CAAD,CAAnB;AACA,YAAMM,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAU,eAAV,CAAvB;AACA,YAAMN,IAAI,GAAG,CAAC,GAAGK,QAAQ,CAACL,IAAT,CAAcH,QAAlB,CAAb;AACAC,MAAAA,WAAW,CAAEM,IAAD,KAAW,EAAE,GAAGA,IAAL;AAAWJ,QAAAA,IAAI,EAAEA,IAAjB;AAAuBD,QAAAA,OAAO,EAAE;AAAhC,OAAX,CAAD,CAAX;AACA,YAAMQ,QAAQ,GAAG,CAAC,GAAGP,IAAJ,EAAUQ,MAAV,CAAiB,CAACC,OAAD,EAAUC,KAAV,KAAqBA,KAAK,GAAG,EAAR,GAAcC,IAAI,CAACC,MAAL,MAAiB,GAAjB,GAAuBH,OAAvB,GAAiC,IAA/C,GAAuDA,OAA7F,CAAjB;AACAP,MAAAA,mBAAmB,CAAEE,IAAD,KAAW,EAAE,GAAGA,IAAL;AAAWJ,QAAAA,IAAI,EAAEO,QAAjB;AAA2BR,QAAAA,OAAO,EAAE;AAApC,OAAX,CAAD,CAAnB;AACA,KARD,CAQE,OAAOc,GAAP,EAAY;AACbf,MAAAA,WAAW,CAAEM,IAAD,KAAW,EACtB,GAAGA,IADmB;AAEtBJ,QAAAA,IAAI,EAAE,CAAC;AAAEc,UAAAA,IAAI,EAAE,uEAAR;AAAiFC,UAAAA,YAAY,EAAEF,GAAG,CAACG;AAAnG,SAAD,CAFgB;AAGtBjB,QAAAA,OAAO,EAAE;AAHa,OAAX,CAAD,CAAX;AAKAG,MAAAA,mBAAmB,CAAEE,IAAD,KAAW,EAC9B,GAAGA,IAD2B;AAE9BJ,QAAAA,IAAI,EAAE,CAAC;AAAEc,UAAAA,IAAI,EAAE,uEAAR;AAAiFC,UAAAA,YAAY,EAAEF,GAAG,CAACG;AAAnG,SAAD,CAFwB;AAG9BjB,QAAAA,OAAO,EAAE;AAHqB,OAAX,CAAD,CAAnB;AAKA;AACD,GArBD;;AAuBA,sBAAO,QAAC,mBAAD,CAAqB,QAArB;AAA8B,IAAA,KAAK,EAAE;AAAEF,MAAAA,QAAQ,EAAEA,QAAZ;AAAsBI,MAAAA,gBAAgB,EAAEA;AAAxC,KAArC;AAAA,cAAkGL;AAAlG;AAAA;AAAA;AAAA;AAAA,UAAP;AACA,CA/BD;;GAAMD,oB;;KAAAA,oB;;AAiCN,MAAMsB,eAAe,GAAG;AAAA;;AAAA,SAAM3B,UAAU,CAACI,mBAAD,CAAhB;AAAA,CAAxB;;IAAMuB,e;;AAEN,SAAStB,oBAAT,EAA+BsB,eAA/B","sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nconst ProductsDataContext = createContext();\n\nconst ProductsDataProvider = ({ children }) => {\n\tconst [products, setProducts] = useState({ loading: true, data: [] });\n\tconst [featuredProducts, setFeaturedProducts] = useState({ loading: true, data: [] });\n\tuseEffect(() => {\n\t\tgetData();\n\t}, []);\n\n\tconst getData = async () => {\n\t\ttry {\n\t\t\tsetProducts((prev) => ({ ...prev, loading: true }));\n\t\t\tsetFeaturedProducts((prev) => ({ ...prev, loading: true }));\n\t\t\tconst response = await axios.get('/api/products');\n\t\t\tconst data = [...response.data.products];\n\t\t\tsetProducts((prev) => ({ ...prev, data: data, loading: false }));\n\t\t\tconst featured = [...data].filter((product, index) => (index < 10 ? (Math.random() >= 0.4 ? product : null) : product));\n\t\t\tsetFeaturedProducts((prev) => ({ ...prev, data: featured, loading: false }));\n\t\t} catch (err) {\n\t\t\tsetProducts((prev) => ({\n\t\t\t\t...prev,\n\t\t\t\tdata: [{ name: 'There is something wrong with the server, Sorry for the inconvenience', offerMessage: err.message }],\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t\tsetFeaturedProducts((prev) => ({\n\t\t\t\t...prev,\n\t\t\t\tdata: [{ name: 'There is something wrong with the server, Sorry for the inconvenience', offerMessage: err.message }],\n\t\t\t\tloading: false,\n\t\t\t}));\n\t\t}\n\t};\n\n\treturn <ProductsDataContext.Provider value={{ products: products, featuredProducts: featuredProducts }}>{children}</ProductsDataContext.Provider>;\n};\n\nconst useProductsData = () => useContext(ProductsDataContext);\n\nexport { ProductsDataProvider, useProductsData };\n"]},"metadata":{},"sourceType":"module"}